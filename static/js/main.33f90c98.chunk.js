(this.webpackJsonplcadashboard=this.webpackJsonplcadashboard||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(39),l=a.n(r),o=a(25),c=a(26),s=a(27),m=a(31),p=a(28),d=a(11),u=a(32),h=a(30),f=a(135),g=a(130),y=a(132),b=a(133),v=a(137),E=a(127),k=a(128),C=a(131),I=a(126),M=a(134),x=a(129),S=a(58),O=a(15),_=a.n(O),w=Object(I.a)((function(e){var t,a=e.colorBy,n=e.barHeight,r=e.selectedMaterials,l=e.metaData,o=e.allMaterials,c=e.xAxisLabel,s=e.events,m=void 0!==s&&s,p=e.margin,d=void 0===p?{top:40,left:220,right:40,bottom:100,smallGap:8}:p,u=e.tooltipOpen,I=e.tooltipLeft,O=e.tooltipTop,w=e.tooltipData,D=e.hideTooltip,N=e.showTooltip,B=S.a().key((function(e){return e.type})).entries(r.sort((function(e,t){return(l.materialOrdering[e.material]?l.materialOrdering[e.material]:1e3)<(l.materialOrdering[t.material]?l.materialOrdering[t.material]:1e3)?1:-1}))).sort((function(e,t){return(l.typeOrdering[e.key]?l.typeOrdering[e.key]:1e3)<(l.typeOrdering[t.key]?l.typeOrdering[t.key]:1e3)?-1:1})),L=Object.keys(r[0]).filter((function(e){return"material"!==e&&"type"!==e})),A=o.reduce((function(e,t){var a=L.reduce((function(e,a){return e+=+t[a]}),0);return e.push(a),e}),[]),P=function(e){return e.material},G=Object(E.a)({domain:[0,Math.max.apply(Math,Object(h.a)(A))],nice:!0}),T=Object(k.a)({domain:L,range:["#f99f2d","#febd2a","#ffd743"]});return i.a.createElement(x.a,null,(function(e){var o=e.width,s=Math.max(o,d.left+d.right+1),p=s-d.left-d.right;G.rangeRound([0,p]);var h=0,E=r.length*n+160+20*B.length;return i.a.createElement("div",{className:_.a.container,style:{position:"relative"}},i.a.createElement("svg",{width:s,height:E},i.a.createElement("rect",{width:s,height:E,fill:"#ffffff",rx:14}),i.a.createElement(g.a,{top:d.top,left:d.left},B.map((function(e){var r=160+n*e.values.length-d.top-d.bottom,o=Object(C.a)({domain:e.values.map(P),padding:.2});o.rangeRound([r,0]);var c=h;return h+=r,i.a.createElement(g.a,{top:c},i.a.createElement("line",{className:_.a.groupLine,x1:-d.left+d.smallGap,y1:"0",x2:s-d.left-2*d.smallGap,y2:"0","stroke-width":"3","stroke-dasharray":"0 6","stroke-linecap":"round"}),i.a.createElement(f.a,{data:e.values,keys:L,height:r,y:P,xScale:G,yScale:o,color:T},(function(e){return e.map((function(e){return e.bars.map((function(r){var o=r.color;return"material"===a&&r.bar&&r.bar.data&&r.bar.data.material&&(o=l.materialColors[r.bar.data.material]||r.color),i.a.createElement("rect",{key:"barstack-horizontal-".concat(e.index,"-").concat(r.index),x:r.x,y:r.y,width:r.width,height:r.height,fill:o,onClick:function(e){m&&alert("clicked: ".concat(JSON.stringify(r)))},onMouseLeave:function(e){t=setTimeout((function(){D()}),300)},onMouseMove:function(e){t&&clearTimeout(t);var a=c+r.y+d.top+n+10,i=r.x+r.width/2+d.left-100;N({tooltipData:r,tooltipTop:a,tooltipLeft:i})}})}))}))})),i.a.createElement(y.a,{hideAxisLine:!0,hideTicks:!0,scale:o,stroke:"#000000",tickStroke:"#000000",tickLabelProps:function(e,t){return{fill:"#000000",fontSize:11,textAnchor:"end",dy:"0.33em"}}}),i.a.createElement(v.a,{textAnchor:"start",verticalAnchor:"start",fontSize:14,width:50,x:-d.left+d.smallGap,y:n*e.values.length/2},e.key))})),i.a.createElement("line",{className:_.a.groupLine,x1:-d.left+d.smallGap,y1:h,x2:s-d.left-2*d.smallGap,y2:h,"stroke-width":"3","stroke-dasharray":"0 6","stroke-linecap":"round"}),i.a.createElement(b.a,{top:h+10,scale:G,stroke:"#000000",tickStroke:"#000000",hideAxisLine:!0,hideTicks:!0,label:c,tickLabelProps:function(e,t){return{fill:"#000000",fontSize:11,textAnchor:"middle"}},labelProps:{fontSize:18,fill:"#000000"}}))),i.a.createElement("div",{style:{position:"absolute",top:d.top/2-10,width:"100%",display:"flex",justifyContent:"center",fontSize:"14px"}}),u&&i.a.createElement(M.a,{top:O,left:I,style:{minWidth:60,height:200,width:200,backgroundColor:"rgba(0,0,0,0.9)",color:"white"}},i.a.createElement("div",{className:_.a.tooltipContainer},i.a.createElement("div",{style:{color:T(w.key)}},i.a.createElement("strong",null,w.key)),i.a.createElement("div",null,w.bar.data[w.key]),i.a.createElement("div",null,i.a.createElement("small",null,P(w.bar.data))))))}))})),D=a(40),N=a(41),B=a.n(N),L=a(54),A=a.n(L),P=a(55),G=a.n(P),T={download:!0,header:!0,skipEmptyLines:!0},j={materialColors:{Granite:"#f99f2d",Limestone:"#febd2a",Brick:"#ffd743",InsMetPanel:"#ea5625",GFRC:"#700000",ACM:"#920000",Terracotta:"#b00000",PhenResin:"#c80000",FiberCement:"#e20000",Zinc:"#ff1515",Granite1:"#ff1515",Limestone1:"#ff6161",Steel:"#ff8989",Wood:"#ffb7b7"},materialIcons:{Granite:"images/granite.png",Limestone:"images/limestone.png",Brick:"images/brick.png",InsMetPanel:"images/insmetalpanel.png",GFRC:"images/gfrc.png",ACM:"images/acm.png",Terracotta:"images/terracotta.png",PhenResin:"images/phenresin.png",FiberCement:"images/fibercement.png",Zinc:"images/zinc.png",Granite1:"images/granite1.png",Limestone1:"images/limestone1.png",Steel:"images/steel.png",Wood:"images/wood.png"},impactColors:{impact1:"#f99f2d",impact2:"#febd2a",impact3:"#ffd743"},materialOrdering:{Wood:14,Steel:13,Limestone1:12,Granite1:11,Zinc:10,FiberCement:9,PhenResin:8,Terracotta:7,ACM:6,GFRC:5,InsMetPanel:4,Brick:3,Limestone:2,Granite:1},typeOrdering:{"Masonry Veneer":1,"Face Sealed":2,Rainscreen:3}},F={metaData:j,allImpactsData:function(e){B.a.parse(G.a,Object(D.a)({},T,{complete:function(t,a){if(Array.isArray(t.data)){var n=t.data.map((function(e){return{material:e.material,type:e.type,impact1:parseFloat(e.impact1),impact2:parseFloat(e.impact2),impact3:parseFloat(e.impact3)}}));n=n.sort((function(e,t){return(j.materialOrdering[e.material]?j.materialOrdering[e.material]:1e3)<(j.materialOrdering[t.material]?j.materialOrdering[t.material]:1e3)?-1:1})),e(n)}else console.error("error trying to load file",t.errors)}}))},gwpData:function(e){B.a.parse(A.a,Object(D.a)({},T,{complete:function(t,a){if(Array.isArray(t.data)){var n=t.data.map((function(e){return{material:e.material,type:e.type,value:parseFloat(e.value)}}));e(n)}else console.error("error trying to load file",t.errors)}}))}},R=a(13),W=a.n(R),Y=a(56),z=a.n(Y),H=a(57),V=a.n(H),Z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={items:e.materials.map((function(e){return{label:e,id:e}})),selectedItems:e.initialSelectedMaterials,materialPopup:{name:"Material"}},a.listEl=null,a.handleSelectItem=a.handleSelectItem.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleSelectItem",value:function(e){var t=e.target.value,a=this.getNextValue(t);this.setState({selectedItems:a}),this.props.updateSelectedMaterials(a)}},{key:"handleSelectAll",value:function(e){this.setState({selectedItems:this.props.materials}),this.props.updateSelectedMaterials(this.props.materials)}},{key:"getNextValue",value:function(e){var t=this.state.selectedItems;return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(h.a)(t),[e])}},{key:"showMaterialsPopup",value:function(e,t){var a=this;e.preventDefault(),e.stopPropagation(),this.setState({materialPopup:{name:t.label}},(function(){a.materialsDialogRef.show()}))}},{key:"renderItems",value:function(){var e=this,t=this.state,a=t.items,n=t.selectedItems;return a.map((function(t){var a=t.id,r=t.label,l=e.props.metaData.materialColors[a]?e.props.metaData.materialColors[a]:"#000000",o=e.props.metaData.materialIcons[a]?e.props.metaData.materialIcons[a]:void 0;return i.a.createElement("li",{key:a,className:W.a.material},o&&i.a.createElement("img",{src:o,alt:"material icon",className:W.a.materialIcon}),i.a.createElement("div",{className:W.a.materialGraphic,style:{backgroundColor:l}}),i.a.createElement("input",{onChange:e.handleSelectItem,type:"checkbox",checked:n.includes(a),value:a,id:"item-".concat(a)}),i.a.createElement("label",{htmlFor:"item-".concat(a)},r),i.a.createElement("button",{className:W.a.moreInformationButton,onClick:function(a){return e.showMaterialsPopup.bind(e)(a,t)}},"More information"))}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("button",{onClick:function(t){return e.handleSelectAll.bind(e)(t)}},"Select All"),i.a.createElement("ul",{className:W.a.container,ref:function(t){return e.listEl=t}},this.renderItems()),i.a.createElement(z.a,{id:"materialdetailsdialog",appRoot:"#root",dialogRoot:"#dialog-root",dialogRef:function(t){return e.materialsDialogRef=t},title:this.state.materialPopup.name,classNames:{overlay:"dialog-overlay",closeButton:"dialog-close",element:"dialog-content",base:"dialog"}},i.a.createElement("p",null,i.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:V.a,alt:"".concat(this.state.materialPopup.name," facade diagram")}))))}}]),t}(n.PureComponent),J=(a(115),a(5)),K=a.n(J),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={chartType:"GWP",lifespan:"tenY",biogenicCarbon:"yBio",allImpactsData:[],gwpData:[],materials:[],selectedMaterials:[]},a.handleInputChange=a.handleInputChange.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;F.allImpactsData((function(t){var a=t.map((function(e){return e.material}));e.setState({allImpactsData:t,materials:a,selectedMaterials:a})})),F.gwpData((function(t){return e.setState({gwpData:t})}))}},{key:"handleInputChange",value:function(e){var t=this,a=e.target,n="checkbox"===a.type?a.checked:a.value,i=a.name;this.setState(Object(o.a)({},i,n),(function(){console.log("new state: ",t.state)}))}},{key:"updateSelectedMaterials",value:function(e){this.setState({selectedMaterials:e})}},{key:"render",value:function(){var e=this,t=this.state.allImpactsData.filter((function(t){return e.state.selectedMaterials.includes(t.material)})),a=this.state.gwpData.filter((function(t){return e.state.selectedMaterials.includes(t.material)}));return i.a.createElement("div",{className:"App"},i.a.createElement("form",null,i.a.createElement("div",{className:K.a.topcontrols},i.a.createElement("div",{className:K.a.inputgroup},i.a.createElement("h3",null,"CHART TYPE"),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"GWP",value:"GWP",name:"chartType",checked:"GWP"===this.state.chartType,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"fGWP"},"Global Warming Potential")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"allImpacts",name:"chartType",value:"allImpacts",checked:"allImpacts"===this.state.chartType,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"allImpacts"},"All Impacts")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"LCS",value:"LCS",name:"chartType",checked:"LCS"===this.state.chartType,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"LCS"},"Life Cycle Stage")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"MB",value:"MB",name:"chartType",checked:"MB"===this.state.chartType,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"MB"},"Material Breakdown"))),i.a.createElement("div",{className:K.a.inputgroup},i.a.createElement("h3",null,"LIFESPAN"),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"tenY",name:"lifespan",value:"tenY",checked:"tenY"===this.state.lifespan,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"tenY"},"10 Year (No Mod D.)")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"sixty1",name:"lifespan",value:"sixty1",checked:"sixty1"===this.state.lifespan,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"sixty1"},"60 Year (With Mod D)")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"sixty2",name:"lifespan",value:"sixty2",checked:"sixty2"===this.state.lifespan,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"sixty2"},"60 Year (No Mod D)"))),i.a.createElement("div",{className:K.a.inputgroup},i.a.createElement("h3",null,"BIOGENIC CARBON"),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"yBio",name:"biogenicCarbon",value:"yBio",checked:"yBio"===this.state.biogenicCarbon,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"yBio"},"With Biogenic Carbon")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"nBio",name:"biogenicCarbon",value:"nBio",checked:"nBio"===this.state.biogenicCarbon,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"nBio"},"No Biogenic Carbon")))),this.state.materials.length>0&&i.a.createElement("div",{className:K.a.sidebar},i.a.createElement(Z,{materials:this.state.materials,updateSelectedMaterials:this.updateSelectedMaterials.bind(this),initialSelectedMaterials:this.state.selectedMaterials,metaData:F.metaData}))),i.a.createElement("div",{className:K.a.chartContainer},"allImpacts"===this.state.chartType&&t.length>0&&i.a.createElement(w,{selectedMaterials:t,allMaterials:this.state.allImpactsData,metaData:F.metaData,barHeight:40,xAxisLabel:"% of Total"}),"GWP"===this.state.chartType&&this.state.gwpData.length>0&&i.a.createElement(w,{selectedMaterials:a,allMaterials:this.state.gwpData,metaData:F.metaData,barHeight:40,xAxisLabel:"kg CO2eq",colorBy:"material"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},13:function(e,t,a){e.exports={container:"MaterialList_container__P_Toz",material:"MaterialList_material__2gb4l",materialGraphic:"MaterialList_materialGraphic__1d0EC",moreInformationButton:"MaterialList_moreInformationButton__2-U0b",materialIcon:"MaterialList_materialIcon__2K76Y"}},15:function(e,t,a){e.exports={container:"StackedBarChart_container__2dKkZ",tooltipContainer:"StackedBarChart_tooltipContainer__3Pank",groupLine:"StackedBarChart_groupLine__2ha4V"}},5:function(e,t,a){e.exports={topcontrols:"App_topcontrols__k3zXc",inputgroup:"App_inputgroup__1uaiG",inputitem:"App_inputitem__1lM4C",sidebar:"App_sidebar__vAB4e",chartContainer:"App_chartContainer__2DarT"}},54:function(e,t,a){e.exports=a.p+"static/media/gwp.049df147.csv"},55:function(e,t,a){e.exports=a.p+"static/media/allimpacts.766fd663.csv"},57:function(e,t,a){e.exports=a.p+"static/media/popupmock.9d9d1873.png"},65:function(e,t,a){e.exports=a(116)}},[[65,1,2]]]);
//# sourceMappingURL=main.33f90c98.chunk.js.map
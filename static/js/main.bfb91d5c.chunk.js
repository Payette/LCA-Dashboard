(this.webpackJsonplcadashboard=this.webpackJsonplcadashboard||[]).push([[0],{114:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),l=a(49),r=a.n(l),c=a(24),o=a(25),s=a(26),u=a(29),m=a(27),p=a(11),d=a(30),h=a(12),f=a(51),v=a(126),y=a(137),b=a(125),E=function(e){return 100*+e.frequency},g=function(e){var t=e.width,a=e.height,n=e.data,l=t-120,r=Object(b.a)({rangeRound:[l,0],domain:[0,Math.max.apply(Math,Object(h.a)(n.map(E)))]});return i.a.createElement("svg",{width:t,height:a},i.a.createElement(y.a,{id:"teal"}),i.a.createElement("rect",{width:t,height:a,fill:"url(#teal)",rx:14}),i.a.createElement(v.a,{top:40},n.map((function(e,t){var a=function(e){return e.letter}(e),n=l-r(E(e)),c=25*t;return i.a.createElement(f.a,{key:"bar-".concat(a),x:60,y:c,width:n,height:20,fill:"rgba(23, 233, 217, .5)",onClick:function(t){alert("clicked: ".concat(JSON.stringify(Object.values(e))))}})}))))},k=a(134),C=a(131),S=a(132),x=a(128),M=a(130),I=a(127),O=a(133),w=a(135),N=a(129),j=a(58),A=a(37),T=a.n(A),_=Object(I.a)((function(e){var t=e.barHeight,a=e.selectedMaterials,n=e.allMaterials,l=e.xAxisLabel,r=e.events,c=void 0!==r&&r,o=e.margin,s=void 0===o?{top:40,left:100,right:40,bottom:100}:o,u=e.tooltipOpen,m=e.tooltipLeft,p=e.tooltipTop,d=e.tooltipData,f=e.hideTooltip,y=e.showTooltip,E=j.a().key((function(e){return e.type})).entries(a);console.log(E);var g,I=Object.keys(a[0]).filter((function(e){return"material"!==e&&"type"!==e})),A=n.reduce((function(e,t){var a=I.reduce((function(e,a){return e+=+t[a]}),0);return e.push(a),e}),[]),_=function(e){return e.material},B=Object(b.a)({domain:[0,Math.max.apply(Math,Object(h.a)(A))],nice:!0}),L=Object(x.a)({domain:I,range:["#6c5efb","#c998ff","#a44afe"]});return i.a.createElement(N.a,null,(function(e){var a=e.width,n=a-s.left-s.right;B.rangeRound([0,n]);var r=0;return i.a.createElement("div",{className:T.a.container,style:{position:"relative"}},i.a.createElement("svg",{width:a,height:800},i.a.createElement("rect",{width:a,height:800,fill:"#eaedff",rx:14}),i.a.createElement(v.a,{top:s.top,left:s.left},E.map((function(e){var a=160+t*e.values.length-s.top-s.bottom,n=Object(M.a)({domain:e.values.map(_),padding:.2});n.rangeRound([a,0]);var l=r;return r+=a,i.a.createElement(v.a,{top:l},i.a.createElement("text",null,e.key),i.a.createElement(k.a,{data:e.values,keys:I,height:a,y:_,xScale:B,yScale:n,color:L},(function(e){return e.map((function(e){return e.bars.map((function(t){return i.a.createElement("rect",{key:"barstack-horizontal-".concat(e.index,"-").concat(t.index),x:t.x,y:t.y,width:t.width,height:t.height,fill:t.color,onClick:function(e){c&&alert("clicked: ".concat(JSON.stringify(t)))},onMouseLeave:function(e){g=setTimeout((function(){f()}),300)},onMouseMove:function(e){g&&clearTimeout(g);var a=t.y+s.top,n=t.x+t.width+s.left;y({tooltipData:t,tooltipTop:a,tooltipLeft:n})}})}))}))})),i.a.createElement(C.a,{hideAxisLine:!0,hideTicks:!0,scale:n,stroke:"#a44afe",tickStroke:"#a44afe",tickLabelProps:function(e,t){return{fill:"#a44afe",fontSize:11,textAnchor:"end",dy:"0.33em"}}}))})),i.a.createElement(S.a,{top:700,scale:B,stroke:"#a44afe",tickStroke:"#a44afe",hideAxisLine:!0,hideTicks:!0,label:l,tickLabelProps:function(e,t){return{fill:"#a44afe",fontSize:11,textAnchor:"middle"}},labelProps:{fontSize:18,fill:"#a44afe"}}))),i.a.createElement("div",{style:{position:"absolute",top:s.top/2-10,width:"100%",display:"flex",justifyContent:"center",fontSize:"14px"}},i.a.createElement(w.a,{scale:L,direction:"row",labelMargin:"0 15px 0 0"})),u&&i.a.createElement(O.a,{top:p,left:m,style:{minWidth:60,backgroundColor:"rgba(0,0,0,0.9)",color:"white"}},i.a.createElement("div",{className:T.a.tooltipContainer},i.a.createElement("div",{style:{color:L(d.key)}},i.a.createElement("strong",null,d.key)),i.a.createElement("div",null,d.bar.data[d.key]),i.a.createElement("div",null,i.a.createElement("small",null,_(d.bar.data))))))}))})),B=a(38),L=a(39),D=a.n(L),P=a(55),W=a.n(P),G=a(56),F=a.n(G),Y={download:!0,header:!0,skipEmptyLines:!0},z=function(e){D.a.parse(F.a,Object(B.a)({},Y,{complete:function(t,a){if(Array.isArray(t.data)){var n=t.data.map((function(e){return{material:e.material,type:e.type,impact1:parseFloat(e.impact1),impact2:parseFloat(e.impact2),impact3:parseFloat(e.impact3)}}));e(n)}else console.error("error trying to load file",t.errors)}}))},R=function(e){D.a.parse(W.a,Object(B.a)({},Y,{complete:function(t,a){if(Array.isArray(t.data)){var n=t.data.map((function(e){return{letter:e.Variable,frequency:parseFloat(e.Attended)}}));e(n)}else console.error("error trying to load file",t.errors)}}))},q=a(57),J=a.n(q),H=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(u.a)(this,Object(m.a)(t).call(this,e)),console.log(e.initialSelectedMaterials),a.state={items:e.materials.map((function(e){return{label:e,id:e}})),selectedItems:e.initialSelectedMaterials},a.listEl=null,a.handleSelectItem=a.handleSelectItem.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleSelectItem",value:function(e){var t=e.target.value,a=this.getNextValue(t);this.setState({selectedItems:a}),this.props.updateSelectedMaterials(a)}},{key:"handleSelectAll",value:function(e){this.setState({selectedItems:this.props.materials}),this.props.updateSelectedMaterials(this.props.materials)}},{key:"getNextValue",value:function(e){var t=this.state.selectedItems;return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(h.a)(t),[e])}},{key:"renderItems",value:function(){var e=this,t=this.state,a=t.items,n=t.selectedItems;return a.map((function(t){var a=t.id,l=t.label;return i.a.createElement("li",{key:a},i.a.createElement("input",{onChange:e.handleSelectItem,type:"checkbox",checked:n.includes(a),value:a,id:"item-".concat(a)}),i.a.createElement("label",{htmlFor:"item-".concat(a)},l))}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:J.a.container},i.a.createElement("button",{onClick:function(t){return e.handleSelectAll.bind(e)(t)}},"Select All"),i.a.createElement("ul",{ref:function(t){return e.listEl=t}},this.renderItems()))}}]),t}(n.PureComponent),V=(a(114),a(5)),K=a.n(V),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={chartType:"allImpacts",allImpactsData:[],gwpData:[],materials:[],selectedMaterials:[]},a.handleInputChange=a.handleInputChange.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;z((function(t){var a=t.map((function(e){return e.material}));e.setState({allImpactsData:t,materials:a,selectedMaterials:a})})),R((function(t){return e.setState({gwpData:t})}))}},{key:"handleInputChange",value:function(e){var t=this,a=e.target,n="checkbox"===a.type?a.checked:a.value,i=a.name;this.setState(Object(c.a)({},i,n),(function(){console.log("new state: ",t.state)}))}},{key:"updateSelectedMaterials",value:function(e){this.setState({selectedMaterials:e})}},{key:"render",value:function(){var e=this,t=this.state.allImpactsData.filter((function(t){return e.state.selectedMaterials.includes(t.material)}));return i.a.createElement("div",{className:"App"},i.a.createElement("form",null,i.a.createElement("div",{className:K.a.topcontrols},i.a.createElement("div",{className:K.a.inputgroup},i.a.createElement("h3",null,"CHART TYPE"),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"allImpacts",name:"chartType",value:"allImpacts",checked:"allImpacts"===this.state.chartType,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"allImpacts"},"All Impacts")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"GWP",value:"GWP",name:"chartType",checked:"GWP"===this.state.chartType,onChange:this.handleInputChange}),i.a.createElement("label",{for:"fGWP"},"Global Warming Potential")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"LCS",value:"LCS",name:"chartType",checked:"LCS"===this.state.chartType,onChange:this.handleInputChange}),i.a.createElement("label",{for:"LCS"},"Life Cycle Stage")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"MB",value:"MB",name:"chartType",checked:"MB"===this.state.chartType,onChange:this.handleInputChange}),i.a.createElement("label",{for:"MB"},"Material Breakdown"))),i.a.createElement("div",{className:K.a.inputgroup},i.a.createElement("h3",null,"LIFESPAN"),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"tenY",name:"lifeSpan",value:"tenY",checked:"checked"}),i.a.createElement("label",{for:"tenY"},"10 Year (No Mod D.)")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"sixty1",name:"lifeSpan",value:"sixty1"}),i.a.createElement("label",{for:"sixty1"},"60 Year (With Mod D)")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"sixty2",name:"lifeSpan",value:"sixty2"}),i.a.createElement("label",{for:"sixty2"},"60 Year (No Mod D)"))),i.a.createElement("div",{className:K.a.inputgroup},i.a.createElement("h3",null,"BIOGENIC CARBON"),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"yBio",name:"biogenicCarbon",value:"yBio",checked:"checked"}),i.a.createElement("label",{for:"yBio"},"With Biogenic Carbon")),i.a.createElement("div",{className:K.a.inputitem},i.a.createElement("input",{type:"radio",id:"nBio",name:"biogenicCarbon",value:"nBio"}),i.a.createElement("label",{for:"nBio"},"No Biogenic Carbon")))),this.state.materials.length>0&&i.a.createElement("div",{className:K.a.sidebar},i.a.createElement(H,{materials:this.state.materials,updateSelectedMaterials:this.updateSelectedMaterials.bind(this),initialSelectedMaterials:this.state.selectedMaterials}))),i.a.createElement("div",{className:K.a.chartContainer},"allImpacts"===this.state.chartType&&t.length>0&&i.a.createElement(_,{selectedMaterials:t,allMaterials:this.state.allImpactsData,barHeight:40,xAxisLabel:"kg CO2eq ??"}),"GWP"===this.state.chartType&&this.state.gwpData.length>0&&i.a.createElement(g,{data:this.state.gwpData,height:600,xAxisLabel:"kg CO2eq"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},37:function(e,t,a){e.exports={container:"StackedBarChart_container__2dKkZ",tooltipContainer:"StackedBarChart_tooltipContainer__3Pank"}},5:function(e,t,a){e.exports={topcontrols:"App_topcontrols__k3zXc",inputgroup:"App_inputgroup__1uaiG",inputitem:"App_inputitem__1lM4C",sidebar:"App_sidebar__vAB4e",chartContainer:"App_chartContainer__2DarT"}},55:function(e,t,a){e.exports=a.p+"static/media/gwp.7df9e12d.csv"},56:function(e,t,a){e.exports=a.p+"static/media/allimpacts.766fd663.csv"},57:function(e,t,a){},65:function(e,t,a){e.exports=a(115)}},[[65,1,2]]]);
//# sourceMappingURL=main.bfb91d5c.chunk.js.map